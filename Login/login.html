<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login & Signup</title>
    <link rel="stylesheet" href="loginstyles.css" />
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  </head>
  <body>
    <div class="container">
      <!-- Sign In Form -->
      <div class="form-box" id="signInForm">
        <h2>Login to ExamGenius</h2>
        <input type="email" id="signInEmail" placeholder="Email" required />
        <input
          type="password"
          id="signInPassword"
          placeholder="Password"
          required
        />
        <button id="signInBtn">Sign In</button>
        <a href="#" id="forgotPasswordLink">Forgot Password?</a>
        <p>
          Make account on ExamGenius! <a href="#" id="signUpLink">Sign Up</a>
        </p>
        <div id="signInError" class="error-message"></div>
      </div>
      <div class="form-box hidden" id="signUpForm">
        <h2>Create Your Account</h2>
        <input type="text" id="signUpName" placeholder="Full Name" required />
        <input type="email" id="signUpEmail" placeholder="Email" required />
        <input
          type="password"
          id="signUpPassword"
          placeholder="Password"
          required
        />
        <button id="signUpBtn">Sign Up</button>
        <p>
          Already have an account? <a href="#" id="backToSignIn">Sign In</a>
        </p>
        <div id="signUpError" class="error-message"></div>
      </div>
      <div class="form-box hidden" id="forgotPasswordForm">
        <h2>Reset Password</h2>
        <input
          type="email"
          id="forgotPasswordEmail"
          placeholder="Enter your email"
          required
        />
        <button id="resetPasswordBtn">Reset Password</button>
        <a href="#" id="backToSignIn2">Back to Sign In</a>
        <div id="resetError" class="error-message"></div>
      </div>
    </div>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyBQj1fYD1VAajmJw3dyeIYQKto2ICacQyg",
        authDomain: "examgeniusai.firebaseapp.com",
        projectId: "examgeniusai",
        storageBucket: "examgeniusai.firebasestorage.app",
        messagingSenderId: "279001284411",
        appId: "1:279001284411:web:072ea36c7e859fcff2011e",
      };

      firebase.initializeApp(firebaseConfig);
      const authCheck = firebase.auth().onAuthStateChanged((user) => {
        if (user) {
          authCheck(); 
          window.location.href = "../MainAI/main.html";
        }
      });
    </script>
    <script src="loginscript.js"></script>
  </body>
</html>
